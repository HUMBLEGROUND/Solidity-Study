// SPDX-License-Identifier: GPL-3.0

pragma solidity >=0.5.0 <0.9.0;

// pragma solidity 0.4.22 ~ 0.7.x ë²„ì „ì—ì„œ ì ìš©í•˜ëŠ” ë²„ì „

// ì—ëŸ¬í•¸ë“¤ëŸ¬ (assert, revert, require)
// assert ğŸ‘‰ gasë¥¼ ë‹¤ ì†Œë¹„í•œ í›„ / íŠ¹ì •í•œ ì¡°ê±´ì— ë¶€í•©í•˜ì§€ ì•Šìœ¼ë©´ (â­ false ì¼ ë•Œ) ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤
// revert ğŸ‘‰ ì¡°ê±´ì—†ì´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ê³  / gasë¥¼ í™˜ë¶ˆ ì‹œì¼œì¤€ë‹¤
// require ğŸ‘‰ íŠ¹ì •í•œ ì¡°ê±´ì— ë¶€í•©í•˜ì§€ ì•Šìœ¼ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ê³  (â­ false ì¼ ë•Œ) / gasë¥¼ í™˜ë¶ˆ ì‹œì¼œì¤€ë‹¤
//--------------------------------------------

contract erh {
    function assertNow() public pure {
        assert(false);
    } // assertê°€ false ì—¬ì„œ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤

    // 3,000,000 gas ì†Œëª¨ (gas í™˜ë¶ˆì•ˆí•´ì¤Œ)
    // ğŸ‘‰ ê°€ìŠ¤ë¥¼ ì†Œëª¨ í•œ í›„ì— í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œì¼œ ì—ëŸ¬ì¸ì§€ í™•ì¸ í•˜ê¸°ë•Œë¬¸ì— í™˜ë¶ˆì„ ì•ˆí•´ì¤€ë‹¤
    // ğŸ‘‰ í•„ìš”ì—†ëŠ” ê°€ìŠ¤ê°€ ë‚˜ì˜¤ë‹ˆë•Œë¬¸ì— ì‹¤ì œë¡œëŠ” ê±°ì˜ ì•ˆì“°ê³  â­ testì—ì„œëŠ” ë§ì´ ì“´ë‹¤

    function assertNow2() public pure {
        assert(false);
    } // ë²„ì „ì´ pragma solidity 0.8.1 ~ ë¶€í„°ëŠ”

    // â­ assertë„ ê°€ìŠ¤ë¥¼ í™˜ë¶ˆí•´ì¤€ë‹¤ ğŸ‘‰ assertë¥¼ ì‹¤í–‰í•œ ê°€ìŠ¤ê°’ë§Œ ë‚´ê³  ë‚˜ë¨¸ì§€ ê°€ìŠ¤ëŠ” í™˜ë¶ˆí•´ì¤€ë‹¤
    //--------------------------------------------
    function revertNow() public pure {
        revert("Error!");
    } // revert ëŠ” ê·¸ëƒ¥ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤

    // 21,322 gas ì†Œëª¨ (revert ì‹¤í–‰ gas ê°€ê²©) (ë‚˜ë¨¸ì§€ gasëŠ” í™˜ë¶ˆí•´ì¤Œ)
    // ğŸ‘‰ ê°€ìŠ¤ë¥¼ ì†Œëª¨ í•œ í›„ì— / revertë¥¼ ì‹¤í–‰í•œ ê°€ìŠ¤ê°’ë§Œ ë‚´ê³  ë‚˜ë¨¸ì§€ ê°€ìŠ¤ëŠ” í™˜ë¶ˆí•´ì¤€ë‹¤
    // ğŸ‘‰ ê·¸ëƒ¥ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ê¸° ë•Œë¬¸ì— ë”±íˆ ì“¸ê³³ì€ ë§ì§€ ì•Šë‹¤ ë§Œì•½ ì“¸ë•ŒëŠ” â­ ifë¬¸ê³¼ ê°™ì´ ì‚¬ìš©
    //--------------------------------------------
    function requireNow() public pure {
        require(false, "Error!");
    } // requireê°€ false ì—¬ì„œ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤

    // 21,338 gas ì†Œëª¨ (require ì‹¤í–‰ gas ê°€ê²©) (ë‚˜ë¨¸ì§€ gasëŠ” í™˜ë¶ˆí•´ì¤Œ)
    // ğŸ‘‰ requireë¥¼ ì‹¤í–‰í•œ ê°€ìŠ¤ê°’ë§Œ ë‚´ê³  ë‚˜ë¨¸ì§€ ê°€ìŠ¤ëŠ” í™˜ë¶ˆí•´ì¤€ë‹¤
    //--------------------------------------------
    function onlyAdults(uint256 _age) public pure returns (string memory) {
        if (_age < 19) {
            revert("No smoke!");
        } // ë§Œì•½ 19ì‚´ ë¯¸ë§Œì´ë¼ë©´(true) revert ê·¸ëƒ¥ ì—ëŸ¬ë°œìƒì‹œí‚´
        // ğŸ‘‰ 19ì‚´ ì´ìƒì´ë©´ ifë¬¸ì„ ë¹ ì ¸ë‚˜ì˜¨ë‹¤
        return "Ok smoke!";
    }

    function onlyAdults2(uint256 _age) public pure returns (string memory) {
        require(_age > 19, "No smoke!");
        // // requireê°€ false ì´ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤ (ifë¬¸ì€ true ì´ë©´ ì—ëŸ¬ë¥¼ ë°œìƒì´í‚¨ë‹¤)
        return "Ok smoke!";
    }
}
